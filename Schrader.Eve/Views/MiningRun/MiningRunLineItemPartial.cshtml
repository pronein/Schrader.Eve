@model IEnumerable<Schrader.Eve.Models.MiningRunLineItem>

<table class="table">
    <tr>
        <th colspan="2">
            @Html.DisplayNameFor(m => m.Name)
        </th>
        <th class="align-center">
            @Html.DisplayNameFor(m => m.Quantity)
        </th>
        <th class="align-center">
            @Html.DisplayNameFor(m => m.TotalEstimatedIsk)
        </th>
        <th class="align-center">
            @Html.DisplayNameFor(m => m.TotalVolume)
        </th>
        <th class="align-center">
            @Html.DisplayNameFor(m => m.TotalActualIsk)
        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            <img src="@string.Format("http://image.eveonline.com/Type/{0}_32.png", item.ImageId)" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td class="align-center">
            @Html.DisplayFor(modelItem => item.Quantity)
        </td>
        <td class="align-right">
            @Html.DisplayFor(modelItem => item.TotalEstimatedIsk)
        </td>
        <td class="align-center">
            @Html.DisplayFor(modelItem => item.TotalVolume)
        </td>
        <td class="align-right">
            @Html.DisplayFor(modelItem => item.TotalActualIsk)
        </td>
    </tr>
}
@if (Model.Count() > 0)
{
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td class="table-sub-header align-center">
            @Html.Encode("Total Estimated ISK")
        </td>
        <td class="table-sub-header align-center">
            @Html.Encode("Total Volume (m^3)")
        </td>
        <td class="table-sub-header align-center">
            @Html.Encode("Total Actual ISK")
        </td>
    </tr>

    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td class="align-right">
            @Model.Sum(m=>m.TotalEstimatedIsk).ToString("#,##0.00 \u01B6")
        </td>
        <td class="align-center">
            @Model.Sum(m => m.TotalVolume).ToString("N2")
        </td>
        <td class="align-right">
            @Model.Sum(m => m.TotalActualIsk).ToString("#,##0.00 \u01B6")
        </td>
    </tr>
}

</table>
